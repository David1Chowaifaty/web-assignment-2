{"version":3,"names":["irSelectCss","IrSelect","componentWillLoad","this","parseData","moveAttributesToSelectElement","componentDidLoad","initializeSelect2","disconnectedCallback","destroySelect2","handleDataChange","newValue","trim","selectData","JSON","parse","data","error","console","Array","from","el","attributes","forEach","attribute","name","_a","selectRef","setAttribute","value","removeAttribute","$","select2","on","e","selectedValue","target","val","toString","onselectchange","emit","selectedItem","onSelectChange","render","jqueryVersion","jquery","h","Host","ref","title","map","d","label","optgrouplabel","options","option"],"sources":["src/components/ir-select/ir-select.css?tag=ir-select","src/components/ir-select/ir-select.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, Watch, h } from '@stencil/core';\r\n// import $ from 'jquery';\r\n// import 'select2';\r\n\r\n@Component({\r\n  tag: 'ir-select',\r\n  styleUrl: 'ir-select.css',\r\n  shadow: false,\r\n})\r\nexport class IrSelect {\r\n  @Prop({ reflect: true }) data: string;\r\n  @Prop({ reflect: true, mutable: true }) selectedItem: string;\r\n  @State() selectData: SelectTypes[] = [];\r\n  @Event({ bubbles: true, composed: true }) onselectchange: EventEmitter<string>;\r\n  @Element() el: HTMLElement;\r\n  selectRef: HTMLSelectElement;\r\n\r\n  componentWillLoad() {\r\n    this.parseData();\r\n    this.moveAttributesToSelectElement();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.initializeSelect2();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.destroySelect2();\r\n  }\r\n\r\n  @Watch('data')\r\n  handleDataChange(newValue: string) {\r\n    if (newValue && newValue.trim() !== '') {\r\n      this.parseData();\r\n    }\r\n  }\r\n\r\n  private parseData() {\r\n    try {\r\n      this.selectData = JSON.parse(this.data) as SelectTypes[];\r\n    } catch (error) {\r\n      console.error('Error parsing JSON data:', error);\r\n    }\r\n  }\r\n\r\n  private moveAttributesToSelectElement() {\r\n    Array.from(this.el.attributes).forEach(attribute => {\r\n      if (attribute.name !== 'data') {\r\n        this.selectRef?.setAttribute(attribute.name, attribute.value);\r\n        this.el.removeAttribute(attribute.name);\r\n      }\r\n    });\r\n  }\r\n\r\n  private initializeSelect2() {\r\n    $(this.selectRef).select2();\r\n    $(this.selectRef).on('change', e => {\r\n      const selectedValue = $(e.target).val().toString();\r\n      this.onselectchange.emit(selectedValue);\r\n      this.selectedItem = selectedValue;\r\n    });\r\n  }\r\n\r\n  private destroySelect2() {\r\n    $(this.selectRef).select2('destroy');\r\n  }\r\n\r\n  onSelectChange(e: Event) {\r\n    const selectedValue = (e.target as HTMLSelectElement).value;\r\n    this.onselectchange.emit(selectedValue);\r\n    this.selectedItem = selectedValue;\r\n  }\r\n\r\n  render() {\r\n    const jqueryVersion = $().jquery;\r\n\r\n    return (\r\n      <Host>\r\n        <p>{`jQuery version: ${jqueryVersion}`}</p>\r\n        <select ref={el => (this.selectRef = el as HTMLSelectElement)} title=\"select\">\r\n          {this.selectData.map(d => (\r\n            <optgroup label={d.optgrouplabel}>\r\n              {d.options.map(option => (\r\n                <option value={option.value}>{option.title}</option>\r\n              ))}\r\n            </optgroup>\r\n          ))}\r\n        </select>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"gEAAA,MAAMA,EAAc,uB,MCSPC,EAAQ,M,wIAGkB,E,CAKrC,iBAAAC,GACEC,KAAKC,YACLD,KAAKE,+B,CAGP,gBAAAC,GACEH,KAAKI,mB,CAGP,oBAAAC,GACEL,KAAKM,gB,CAIP,gBAAAC,CAAiBC,GACf,GAAIA,GAAYA,EAASC,SAAW,GAAI,CACtCT,KAAKC,W,EAID,SAAAA,GACN,IACED,KAAKU,WAAaC,KAAKC,MAAMZ,KAAKa,K,CAClC,MAAOC,GACPC,QAAQD,MAAM,2BAA4BA,E,EAItC,6BAAAZ,GACNc,MAAMC,KAAKjB,KAAKkB,GAAGC,YAAYC,SAAQC,I,MACrC,GAAIA,EAAUC,OAAS,OAAQ,EAC7BC,EAAAvB,KAAKwB,aAAS,MAAAD,SAAA,SAAAA,EAAEE,aAAaJ,EAAUC,KAAMD,EAAUK,OACvD1B,KAAKkB,GAAGS,gBAAgBN,EAAUC,K,KAKhC,iBAAAlB,GACNwB,EAAE5B,KAAKwB,WAAWK,UAClBD,EAAE5B,KAAKwB,WAAWM,GAAG,UAAUC,IAC7B,MAAMC,EAAgBJ,EAAEG,EAAEE,QAAQC,MAAMC,WACxCnC,KAAKoC,eAAeC,KAAKL,GACzBhC,KAAKsC,aAAeN,CAAa,G,CAI7B,cAAA1B,GACNsB,EAAE5B,KAAKwB,WAAWK,QAAQ,U,CAG5B,cAAAU,CAAeR,GACb,MAAMC,EAAiBD,EAAEE,OAA6BP,MACtD1B,KAAKoC,eAAeC,KAAKL,GACzBhC,KAAKsC,aAAeN,C,CAGtB,MAAAQ,GACE,MAAMC,EAAgBb,IAAIc,OAE1B,OACEC,EAACC,EAAI,KACHD,EAAA,SAAI,mBAAmBF,KACvBE,EAAA,UAAQE,IAAK3B,GAAOlB,KAAKwB,UAAYN,EAA0B4B,MAAM,UAClE9C,KAAKU,WAAWqC,KAAIC,GACnBL,EAAA,YAAUM,MAAOD,EAAEE,eAChBF,EAAEG,QAAQJ,KAAIK,GACbT,EAAA,UAAQjB,MAAO0B,EAAO1B,OAAQ0B,EAAON,a"}