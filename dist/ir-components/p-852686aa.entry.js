import{r as t,c as e,h as s,H as i,g as a}from"./p-75270385.js";const h=":host{display:block}";const n=class{constructor(s){t(this,s);this.onselectchange=e(this,"onselectchange",7);this.data=undefined;this.selectedItem=undefined;this.selectData=[]}componentWillLoad(){this.parseData();this.moveAttributesToSelectElement()}componentDidLoad(){this.initializeSelect2()}disconnectedCallback(){this.destroySelect2()}handleDataChange(t){if(t&&t.trim()!==""){this.parseData()}}parseData(){try{this.selectData=JSON.parse(this.data)}catch(t){console.error("Error parsing JSON data:",t)}}moveAttributesToSelectElement(){Array.from(this.el.attributes).forEach((t=>{var e;if(t.name!=="data"){(e=this.selectRef)===null||e===void 0?void 0:e.setAttribute(t.name,t.value);this.el.removeAttribute(t.name)}}))}initializeSelect2(){$(this.selectRef).select2();$(this.selectRef).on("change",(t=>{const e=$(t.target).val().toString();this.onselectchange.emit(e);this.selectedItem=e}))}destroySelect2(){$(this.selectRef).select2("destroy")}onSelectChange(t){const e=t.target.value;this.onselectchange.emit(e);this.selectedItem=e}render(){return s(i,null,s("select",{ref:t=>this.selectRef=t,title:"select"},this.selectData.map((t=>s("optgroup",{label:t.optgrouplabel},t.options.map((t=>s("option",{value:t.value},t.title))))))))}get el(){return a(this)}static get watchers(){return{data:["handleDataChange"]}}};n.style=h;export{n as ir_select};
//# sourceMappingURL=p-852686aa.entry.js.map